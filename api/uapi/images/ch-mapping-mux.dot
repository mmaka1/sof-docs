digraph ch_mapping_mux {
   compound = true;
   node [shape = record];
   rankdir = LR;
   size = 3;

   subgraph cluster_ppl_3 {
      label = "Pipeline id = 3";
      style = "filled"; color = "#f0f0f0";

      ppl_3 [label = "<ch_0>ch 0
                     |<ch_1>ch 1
                     |<ch_2>ch 2
                     |<ch_3>ch 3"];
   }

   subgraph cluster_ppl_5 {
      label = "Pipeline id = 5";
      style = "filled"; color = "#f0f0f0";

      ppl_5 [label = "<ch_0>ch 0
                     |<ch_1>ch 1"];
   }

   subgraph cluster_out_stream {
      label = "Output Stream";
      style = "filled"; color = "#f0f0f0";

      str [label = "<ch_0>ch 0
                     |<ch_1>ch 1
                     |<ch_2>ch 2"];
   }

   ppl_3:ch_0 -> str:ch_1
   ppl_3:ch_1 -> str:ch_2
   ppl_3:ch_2 -> str:ch_0 [label = "*.5"]
   ppl_3:ch_3 -> str:ch_0 [label = "*.5"]

   ppl_5:ch_0 -> str:ch_1 [label = "*.3"]
   ppl_5:ch_1 -> str:ch_2 [label = "*.4"];
}
